# 💰 免費 Gemini API 使用指南

## Gemini API 免費版配額

Google Gemini API 提供**免費方案**，足以支援個人使用。

### 📊 免費配額限制（2026年1月）

| 項目 | 免費方案 | 付費方案 |
|------|----------|----------|
| **每分鐘請求數** | 15 RPM | 360+ RPM |
| **每日請求數** | 1,500 RPD | 無限制 |
| **每月總 Token** | 免費 | 計費 |
| **圖片輸入** | ✅ 支援 | ✅ 支援 |
| **模型** | gemini-2.0-flash-exp | 所有模型 |

> **RPM** = Requests Per Minute (每分鐘請求數)  
> **RPD** = Requests Per Day (每日請求數)

---

## ✅ 免費版本可用功能

### 完全可用的功能

使用免費 API，以下功能**完全正常運作**：

#### 1. 📸 相機掃描與辨識
- ✅ 拍攝發票照片
- ✅ AI 智能辨識發票內容
- ✅ 自動提取品項、金額、買受人
- ✅ 橫向/直向自動適應

**限制**：每天最多辨識 1,500 張發票（實際使用遠低於此數量）

#### 2. 💰 稅額計算
- ✅ 自動計算未稅金額
- ✅ 自動計算營業稅
- ✅ 總額計算
- ✅ 中文大寫金額

**限制**：無（本地計算，不使用 API）

#### 3. 📊 歷史記錄
- ✅ 儲存掃描記錄
- ✅ 查看過往發票
- ✅ 搜尋篩選
- ✅ 匯出資料

**限制**：無（本地儲存，不使用 API）

#### 4. ⚙️ 手動輸入
- ✅ 手動新增品項
- ✅ 編輯金額
- ✅ 設定稅率
- ✅ 新增買受人

**限制**：無（不使用 API）

---

## ⚠️ 可能遇到的限制

### 配額限制情境

#### 情境 1：密集使用
**問題**：短時間內掃描大量發票（>15 張/分鐘）

**解決方案**：
- 等待 1 分鐘後繼續
- 先手動輸入簡單的發票
- 批次處理：分批上傳

#### 情境 2：每日額度用完
**問題**：單日辨識超過 1,500 張發票

**可能性**：極低（個人使用幾乎不可能達到）

**解決方案**：
- 等待隔天重置（UTC 時區）
- 暫時使用手動輸入
- 考慮升級付費方案

---

## 💡 免費版使用建議

### 最佳實踐

#### ✅ 推薦做法

1. **先拍照，批次辨識**
   - 累積多張發票照片
   - 一次性批次處理
   - 避免頻繁單次請求

2. **簡單發票手動輸入**
   - 1-2 個品項：手動輸入更快
   - 複雜發票：使用 AI 辨識

3. **善用歷史記錄**
   - 相似發票可複製編輯
   - 減少重複辨識

4. **檢查後再儲存**
   - AI 辨識後人工核對
   - 避免錯誤需要重新辨識

#### ❌ 避免做法

1. **連續快速掃描**
   - 15 張/分鐘 會觸發限制
   - 間隔 5-10 秒再掃描

2. **重複辨識同一張發票**
   - 先儲存結果
   - 需要修改時手動編輯

3. **測試性質大量掃描**
   - 避免無意義的測試
   - 珍惜配額用於實際需求

---

## 📈 實際使用估算

### 個人用戶（月平均）

| 使用情境 | 每日發票數 | 每月總數 | 免費額度 | 結論 |
|---------|-----------|---------|---------|------|
| **個人開銷** | 3-5 張 | 90-150 張 | 1,500/天 | ✅ 完全足夠 |
| **小型商家** | 20-30 張 | 600-900 張 | 1,500/天 | ✅ 足夠 |
| **密集使用** | 50+ 張 | 1,500+ 張 | 1,500/天 | ⚠️ 接近限制 |
| **大量批次** | 100+ 張 | 3,000+ 張 | 1,500/天 | ❌ 需付費 |

### 結論

- **99% 個人用戶**：免費方案完全足夠 ✅
- **小型商家**：免費方案可滿足需求 ✅
- **大量處理**：建議升級付費方案 💰

---

## 🔄 配額重置時間

### 每日配額
- **重置時間**：UTC 00:00（台灣時間 08:00）
- **重置內容**：1,500 次請求配額

### 每分鐘配額
- **限制**：15 次請求/分鐘
- **重置**：每分鐘滾動重置

---

## 💰 何時需要付費方案？

### 考慮付費的情況

#### 需要升級如果您：

1. ⚠️ **頻繁遇到配額限制**
   - 每日使用超過 1,000 次
   - 經常需要快速批次處理

2. ⚠️ **商業用途**
   - 多人同時使用
   - 客戶服務需求
   - 需要穩定的服務保證

3. ⚠️ **需要更快速度**
   - 即時處理需求
   - 大量並行請求

### 付費方案優勢

- 🚀 更高的請求頻率（360+ RPM）
- ♾️ 無每日請求上限
- 🎯 更好的服務品質保證
- 📊 進階的使用分析

---

## 🎯 優化使用技巧

### 減少 API 使用的方法

#### 1. 本地功能優先

這些功能**不使用 API**，完全免費：
- ✅ 手動輸入發票
- ✅ 編輯已辨識的發票
- ✅ 查看歷史記錄
- ✅ 稅額計算
- ✅ 匯出資料

#### 2. 智能使用 AI

**適合 AI 辨識**：
- 📄 品項多（5+ 個）
- 🔢 金額複雜
- 📝 手寫字體
- 🖼️ 拍照品質好

**適合手動輸入**：
- 📝 品項少（1-2 個）
- 💯 金額簡單
- ⌨️ 數字清楚
- 🔄 重複性發票

#### 3. 批次處理

**效率方式**：
```
上午：拍攝 10 張發票照片
下午：一次性辨識 10 張
優點：集中處理，不浪費配額
```

**避免方式**：
```
拍一張 → 辨識 → 拍一張 → 辨識...
缺點：分散使用，可能超過每分鐘限制
```

---

## 📊 監控使用量

### 如何查看配額使用

1. **Google AI Studio**
   - 前往：https://aistudio.google.com/
   - 查看：Usage & Billing
   - 監控：每日使用量

2. **應用程式內**
   - 瀏覽器控制台會顯示 API 錯誤
   - 429 錯誤 = 配額超限

### 配額警告訊息

應用程式會自動顯示以下訊息：

```
⚠️ API 配額已用完
   等待配額重置（每日/每月）
   或升級到付費方案
```

---

## 🆓 免費替代方案

如果不想使用 API 或配額用完：

### 方案 A：純手動模式
- ✅ 完全免費
- ✅ 無限制使用
- ⚠️ 需要手動輸入

### 方案 B：混合使用
- ✅ 簡單發票：手動
- ✅ 複雜發票：AI
- ✅ 平衡效率與配額

### 方案 C：離線拍照
- ✅ 先拍照儲存
- ✅ 有配額時再辨識
- ✅ 不浪費任何配額

---

## 🎓 總結

### 免費版本能保留的功能

| 功能 | 可用性 | 說明 |
|------|--------|------|
| 📸 **拍照掃描** | ✅ 完全可用 | 每天 1,500 張足夠 |
| 🤖 **AI 辨識** | ✅ 完全可用 | 免費配額充足 |
| 💰 **稅額計算** | ✅ 完全可用 | 本地計算，無限制 |
| 📊 **歷史記錄** | ✅ 完全可用 | 本地儲存，無限制 |
| ⚙️ **手動輸入** | ✅ 完全可用 | 不使用 API |
| 🔄 **編輯功能** | ✅ 完全可用 | 不使用 API |
| 📤 **匯出資料** | ✅ 完全可用 | 不使用 API |

### 關鍵建議

✅ **個人使用**：免費方案完全足夠，無需付費
✅ **小型商家**：免費方案可滿足日常需求
⚠️ **大量處理**：考慮優化使用方式或升級

---

## 📞 獲取 API Key

### 免費申請步驟

1. 前往 Google AI Studio：https://aistudio.google.com/apikey
2. 登入 Google 帳號
3. 點擊「Create API Key」
4. 選擇或創建 Google Cloud 專案
5. 複製 API Key
6. 在應用程式設定中貼上

**費用**：完全免費 🆓

---

**更新日期**：2026-01-14  
**適用版本**：Gemini 2.0 Flash
